#!{{ lookPath "bash" }}
source '{{ .chezmoi.sourceDir }}/.assets/include.sh'

if [[ "$SHELL" != "$(which zsh)" ]]; then
	_log_info "shell is not set to zsh"
	_log "setting shell to zsh"
	chsh -s "$(which zsh)"
fi

# install python as default
if _cmd_check python3; then
	PYTHON_3="{{ lookPath "python3" }}"
	PYTHON="$(dirname "$PYTHON_3")/python"
	if ! _cmd_check python; then
		_log "setting python default to: '${PYTHON_3}'"
		{{ .os.super }} update-alternatives --install $PYTHON python $PYTHON_3 1
	fi
fi

# this stops errors, do not remove
exit 0
